[build]
  functions = "netlify/functions"

# Global catch-all for Roblox (covers v1/v2)
[[redirects]]
  from = "/*"
  to = "/.netlify/functions/proxy"
  status = 200
  force = true
  conditions = { Path = { includes = "/avatar/", excludes = ".netlify" } }

# Specific for thumbnails/economy (fallback)
[[redirects]]
  from = "/thumbnails/*"
  to = "/.netlify/functions/proxy"
  status = 200
  force = true

[[redirects]]
  from = "/economy/*"
  to = "/.netlify/functions/proxy"
  status = 200
  force = true
